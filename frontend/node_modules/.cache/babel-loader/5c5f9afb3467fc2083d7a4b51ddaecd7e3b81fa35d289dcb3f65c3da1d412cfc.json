{"ast":null,"code":"var _jsxFileName = \"/Users/ivandelrio/apps/dompechatbot/frontend/src/components/ChatUI.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { Box, Paper, TextField, Button, Typography, CircularProgress, IconButton, Divider } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport MessageList from './MessageList';\nimport SearchResultDisplay from './SearchResultDisplay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatUI = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\n\n  // Scroll to bottom when messages change\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Auto-greet on first load\n  useEffect(() => {\n    if (messages.length === 0) {\n      sendGreeting();\n    }\n  }, []);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleInputChange = e => {\n    setInput(e.target.value);\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  const handleClearChat = () => {\n    setMessages([]);\n    setError(null);\n    // Auto-greet again after clearing\n    setTimeout(() => {\n      sendGreeting();\n    }, 100);\n  };\n  const getMessageHistory = msgs => {\n    return msgs.map(msg => ({\n      role: msg.role,\n      content: msg.content\n    }));\n  };\n  const sendGreeting = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Send an empty message to get a greeting\n      const response = await axios.post(`${apiUrl}/api/chat`, {\n        message: 'Hello',\n        history: []\n      });\n      const responseData = response.data;\n      setMessages([{\n        role: 'assistant',\n        content: responseData.response || 'Hi there! I\\'m DompeAssist, your IT support assistant. How can I help you today?'\n      }]);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching greeting:', error);\n      setLoading(false);\n      setError('Could not connect to the chatbot. Please try again later.');\n    }\n  };\n  const sendMessage = async () => {\n    if (input.trim() === '') return;\n\n    // Add user message to chat\n    const updatedMessages = [...messages, {\n      role: 'user',\n      content: input\n    }];\n    setMessages(updatedMessages);\n    setInput('');\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Get response from server\n      const response = await axios.post(`${apiUrl}/api/chat`, {\n        message: input,\n        history: getMessageHistory(updatedMessages)\n      });\n      const responseData = response.data;\n\n      // Process regular response\n      if (responseData.response) {\n        setMessages([...updatedMessages, {\n          role: 'assistant',\n          content: responseData.response,\n          searchResult: responseData.searchResult || null\n        }]);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setLoading(false);\n\n      // Add error message to chat\n      setMessages([...updatedMessages, {\n        role: 'assistant',\n        content: 'Sorry, I encountered an error while processing your request. Please try again later.',\n        searchResult: {\n          source: 'error',\n          abstractText: 'There was a problem connecting to the search service. This could be due to network issues or the search service being temporarily unavailable.',\n          relatedTopics: [{\n            text: 'If this problem persists, please contact your IT department or try again later.',\n            url: null\n          }]\n        }\n      }]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden',\n      backgroundColor: '#fff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        backgroundColor: '#f5f9fd',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderBottom: '1px solid #e0e0e0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"primary\",\n        children: \"Chat with DompeAssist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        onClick: handleClearChat,\n        size: \"small\",\n        title: \"Start new conversation\",\n        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flex: 1,\n        overflow: 'auto',\n        p: 2,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2\n        },\n        children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(MessageList, {\n            messages: [msg]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), msg.role === 'assistant' && msg.searchResult && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              alignSelf: 'flex-start',\n              ml: {\n                xs: 2,\n                sm: 5\n              },\n              width: '90%',\n              maxWidth: '800px'\n            },\n            children: /*#__PURE__*/_jsxDEV(SearchResultDisplay, {\n              result: msg.searchResult\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          p: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 2,\n          mb: 2,\n          backgroundColor: '#fdeaea',\n          borderLeft: '4px solid #f44336'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        display: 'flex',\n        backgroundColor: '#f5f9fd'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        variant: \"outlined\",\n        placeholder: \"Type your message...\",\n        value: input,\n        onChange: handleInputChange,\n        onKeyPress: handleKeyPress,\n        disabled: loading,\n        multiline: true,\n        maxRows: 4,\n        size: \"small\",\n        sx: {\n          mr: 1,\n          '& .MuiOutlinedInput-root': {\n            borderRadius: '20px',\n            backgroundColor: '#ffffff'\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        disableElevation: true,\n        disabled: loading || !input.trim(),\n        onClick: sendMessage,\n        endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 20\n        }, this),\n        sx: {\n          borderRadius: '20px',\n          px: 3\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatUI, \"XNrXU6aeEgX4BHj7X40CbrpeLEk=\");\n_c = ChatUI;\nexport default ChatUI;\nvar _c;\n$RefreshReg$(_c, \"ChatUI\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","Box","Paper","TextField","Button","Typography","CircularProgress","IconButton","Divider","SendIcon","DeleteIcon","MessageList","SearchResultDisplay","jsxDEV","_jsxDEV","ChatUI","_s","messages","setMessages","input","setInput","loading","setLoading","error","setError","messagesEndRef","apiUrl","process","env","REACT_APP_API_URL","scrollToBottom","length","sendGreeting","_messagesEndRef$curre","current","scrollIntoView","behavior","handleInputChange","e","target","value","handleKeyPress","key","shiftKey","preventDefault","sendMessage","handleClearChat","setTimeout","getMessageHistory","msgs","map","msg","role","content","response","post","message","history","responseData","data","console","trim","updatedMessages","searchResult","source","abstractText","relatedTopics","text","url","elevation","sx","height","display","flexDirection","overflow","backgroundColor","children","p","justifyContent","alignItems","borderBottom","variant","color","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","title","flex","gap","index","Fragment","alignSelf","ml","xs","sm","width","maxWidth","result","mb","borderLeft","ref","fullWidth","placeholder","onChange","onKeyPress","disabled","multiline","maxRows","mr","borderRadius","disableElevation","endIcon","px","_c","$RefreshReg$"],"sources":["/Users/ivandelrio/apps/dompechatbot/frontend/src/components/ChatUI.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { \n  Box, \n  Paper, \n  TextField, \n  Button, \n  Typography, \n  CircularProgress,\n  IconButton,\n  Divider\n} from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport MessageList from './MessageList';\nimport SearchResultDisplay from './SearchResultDisplay';\n\nconst ChatUI = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\n\n  // Scroll to bottom when messages change\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Auto-greet on first load\n  useEffect(() => {\n    if (messages.length === 0) {\n      sendGreeting();\n    }\n  }, []);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const handleInputChange = (e) => {\n    setInput(e.target.value);\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const handleClearChat = () => {\n    setMessages([]);\n    setError(null);\n    // Auto-greet again after clearing\n    setTimeout(() => {\n      sendGreeting();\n    }, 100);\n  };\n\n  const getMessageHistory = (msgs) => {\n    return msgs.map(msg => ({\n      role: msg.role,\n      content: msg.content\n    }));\n  };\n\n  const sendGreeting = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Send an empty message to get a greeting\n      const response = await axios.post(`${apiUrl}/api/chat`, { message: 'Hello', history: [] });\n      const responseData = response.data;\n      \n      setMessages([{ \n        role: 'assistant', \n        content: responseData.response || 'Hi there! I\\'m DompeAssist, your IT support assistant. How can I help you today?'\n      }]);\n      \n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching greeting:', error);\n      setLoading(false);\n      setError('Could not connect to the chatbot. Please try again later.');\n    }\n  };\n\n  const sendMessage = async () => {\n    if (input.trim() === '') return;\n    \n    // Add user message to chat\n    const updatedMessages = [...messages, { role: 'user', content: input }];\n    setMessages(updatedMessages);\n    setInput('');\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Get response from server\n      const response = await axios.post(`${apiUrl}/api/chat`, { message: input, history: getMessageHistory(updatedMessages) });\n      const responseData = response.data;\n      \n      // Process regular response\n      if (responseData.response) {\n        setMessages([\n          ...updatedMessages,\n          { \n            role: 'assistant', \n            content: responseData.response,\n            searchResult: responseData.searchResult || null\n          }\n        ]);\n      }\n      \n      setLoading(false);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setLoading(false);\n      \n      // Add error message to chat\n      setMessages([\n        ...updatedMessages,\n        { \n          role: 'assistant', \n          content: 'Sorry, I encountered an error while processing your request. Please try again later.',\n          searchResult: {\n            source: 'error',\n            abstractText: 'There was a problem connecting to the search service. This could be due to network issues or the search service being temporarily unavailable.',\n            relatedTopics: [\n              { \n                text: 'If this problem persists, please contact your IT department or try again later.', \n                url: null \n              }\n            ]\n          }\n        }\n      ]);\n    }\n  };\n\n  return (\n    <Paper \n      elevation={3} \n      sx={{ \n        height: '100%', \n        display: 'flex', \n        flexDirection: 'column',\n        overflow: 'hidden',\n        backgroundColor: '#fff',\n      }}\n    >\n      <Box sx={{ \n        p: 2, \n        backgroundColor: '#f5f9fd', \n        display: 'flex', \n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderBottom: '1px solid #e0e0e0'\n      }}>\n        <Typography variant=\"h6\" color=\"primary\">\n          Chat with DompeAssist\n        </Typography>\n        <IconButton \n          color=\"primary\" \n          onClick={handleClearChat}\n          size=\"small\"\n          title=\"Start new conversation\"\n        >\n          <DeleteIcon />\n        </IconButton>\n      </Box>\n      \n      <Box sx={{ \n        flex: 1, \n        overflow: 'auto', \n        p: 2,\n        display: 'flex',\n        flexDirection: 'column',\n      }}>\n        <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n          {messages.map((msg, index) => (\n            <React.Fragment key={index}>\n              <MessageList messages={[msg]} />\n              \n              {/* Display search results immediately after assistant messages */}\n              {msg.role === 'assistant' && msg.searchResult && (\n                <Box sx={{ \n                  alignSelf: 'flex-start', \n                  ml: { xs: 2, sm: 5 }, \n                  width: '90%', \n                  maxWidth: '800px'\n                }}>\n                  <SearchResultDisplay result={msg.searchResult} />\n                </Box>\n              )}\n            </React.Fragment>\n          ))}\n        </Box>\n        \n        {loading && (\n          <Box sx={{ display: 'flex', justifyContent: 'center', p: 2 }}>\n            <CircularProgress size={24} />\n          </Box>\n        )}\n        \n        {error && (\n          <Paper \n            sx={{ \n              p: 2, \n              mb: 2, \n              backgroundColor: '#fdeaea',\n              borderLeft: '4px solid #f44336'\n            }}\n          >\n            <Typography color=\"error\">{error}</Typography>\n          </Paper>\n        )}\n        \n        <div ref={messagesEndRef} />\n      </Box>\n      \n      <Divider />\n      \n      <Box sx={{ \n        p: 2, \n        display: 'flex', \n        backgroundColor: '#f5f9fd',\n      }}>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Type your message...\"\n          value={input}\n          onChange={handleInputChange}\n          onKeyPress={handleKeyPress}\n          disabled={loading}\n          multiline\n          maxRows={4}\n          size=\"small\"\n          sx={{ \n            mr: 1,\n            '& .MuiOutlinedInput-root': {\n              borderRadius: '20px',\n              backgroundColor: '#ffffff',\n            }\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          disableElevation\n          disabled={loading || !input.trim()}\n          onClick={sendMessage}\n          endIcon={<SendIcon />}\n          sx={{ borderRadius: '20px', px: 3 }}\n        >\n          Send\n        </Button>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default ChatUI; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}